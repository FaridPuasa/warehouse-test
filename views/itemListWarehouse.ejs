
<!DOCTYPE html><!-- This site was created in Webflow. http://www.webflow.com -->
<!-- Last Published: Mon May 23 2022 00:53:35 GMT+0000 (Coordinated Universal Time) -->
<html data-wf-domain="gorushwms.webflow.io" data-wf-page="628ad5c8d53df33e6e586f53" data-wf-site="61fb4a164eca130338cafeaa" data-wf-status="1">
  <head>
    <meta charset="utf-8" />
    <title>Item List Warehouse</title>
    <meta content="Item List Warehouse" property="og:title" />
    <meta content="Item List Warehouse" property="twitter:title" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="https://uploads-ssl.webflow.com/61fb4a164eca130338cafeaa/css/gorushwms.webflow.5db86fd66.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Poppins:100,200,300,regular,500,600,700,800,900"]
        }
      });
    </script>
    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]-->
    <script type="text/javascript">
      ! function(o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
      }(window, document);
    </script>
    <link href="https://uploads-ssl.webflow.com/img/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="https://uploads-ssl.webflow.com/img/webclip.png" rel="apple-touch-icon" />
    <script>
      window.onload = function() {
        var anchors = document.getElementsByTagName('*');
        for (var i = 0; i < anchors.length; i++) {
          var anchor = anchors[i];
          anchor.onclick = function() {
            code = this.getAttribute('whenClicked');
            eval(code);
          }
        }
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="extensions/sticky-header/bootstrap-table-sticky-header.css">
    <link rel="stylesheet" href="extensions/fixed-columns/bootstrap-table-fixed-columns.css">
    <script src="extensions/sticky-header/bootstrap-table-sticky-header.js"></script>
    <script src="extensions/fixed-columns/bootstrap-table-fixed-columns.js"></script>

    <style>
      #toolbar {
        margin: 0;
      }
    </style>

    <style id="table_style" type="text/css">
      .tableFixHead {
        overflow-y: auto;

      }

      .tableFixHead table {
        border-collapse: collapse;
        width: 100%;
        font-family: Arial;
        font-size: 10pt;
        margin: auto;
        text-align: center;
        vertical-align: middle;

      }

      .tableFixHead th,
      .tableFixHead td {
        padding: 8px 16px;
        text-align: center;
        border: 1px solid black;
      }


      .tableFixHead th {
        top: 0;
        background: #eee;
      }
    </style>

    <div id="toolbar" class="select">
      <select class="form-control">
        <option value="">Export Current View</option>
        <option value="all">Export All</option>
        <option value="selected">Export Selected</option>
      </select>
    </div>
  </head>
  <body class="body">
    <div class="section wf-section">
      <div class="w-container"><a whenClicked="history.back()" href="#" class="button-8 w-button">&lt; Go Back</a>
        <h1 id="w-node-_5c40cdcd-743f-e2a9-4ca2-eec7aae7df1c-6e586f53" class="heading-2">Item List</h1>
      </div>
    </div>
    <div class="wf-section">
      <div class="w-layout-grid itemlist-grid-area">
        <div id="w-node-_0d3fe4e2-7a1d-15dd-3936-9fbed11a700c-6e586f53" class="w-embed">
          <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle m-1" type="button" data-bs-toggle="dropdown">Area<span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li><a href="/list/warehouse/<%=product%>/B1/<%=pages%>/10">B1</a></li>
              <li><a href="/list/warehouse/<%=product%>/B2/<%=pages%>/10">B2</a></li>
              <li><a href="/list/warehouse/<%=product%>/G1/<%=pages%>/10">G1</a></li>
              <li><a href="/list/warehouse/<%=product%>/G2/<%=pages%>/10">G2</a></li>
              <li><a href="/list/warehouse/<%=product%>/JT1/<%=pages%>/10">JT1</a></li>
              <li><a href="/list/warehouse/<%=product%>/JT2/<%=pages%>/10">JT2</a></li>
              <li><a href="/list/warehouse/<%=product%>/JT3/<%=pages%>/10">JT3</a></li>
              <li><a href="/list/warehouse/<%=product%>/TUTONG/<%=pages%>/10">TUTONG</a></li>
              <li><a href="/list/warehouse/<%=product%>/KB/<%=pages%>/10">KB</a></li>
              <li><a href="/list/warehouse/<%=product%>/SERIA/<%=pages%>/10">SERIA</a></li>
              <li><a href="/list/warehouse/<%=product%>/LUMUT/<%=pages%>/10">LUMUT</a></li>
              <li><a href="/list/warehouse/<%=product%>/KB%20%2F%20SERIA/<%=pages%>/10">KB / SERIA</a></li>
              <li><a href="/list/warehouse/<%=product%>/TEMBURONG/10">TEMBURONG</a></li>
              <li><a href="/list/warehouse/<%=product%>/<%=area%>/<%=pages%>/10"></a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="html-embed w-embed">
        <div id="w-node-d754e2f5-aed1-3892-5daf-5f26d402a898-e0507387" class="html-embed w-embed tableFixHead">
          <table id="myTable" class="table table-striped table-hover" data-show-export="true" data-click-to-select="true" data-toggle="table" data-toolbar="#toolbar" data-show-toggle="true" data-show-columns="true" data-search="true" data-pagination="true" data-fixed-columns="true">
            <thead>
              <tr class="tableFixHead">
                <th data-field="trackingNumber" data-sortable="true">Tracking Number</th>
                <th data-field="parcelNumber" data-sortable="true">P/N</th>
                <th data-field="area" data-sortable="true">Area</th>
                <th data-field="location" data-sortable="true">Location</th>
                <th data-field="name" data-sortable="true">Name</th>
                <th data-field="contact" data-sortable="true">Contact</th>
                <th data-field="address" data-sortable="true">Address</th>
                <th data-field="status" data-sortable="true">Status</th>
                <th data-field="warehouseRemark" data-sortable="true">Remark / GRP Charges</th>
                <th data-field="expiryDate" data-sortable="true">Expiry Date</th>
                <th data-field="age" data-sortable="true">Ageing</th>
                <th data-field="action" data-sortable="true">Action</th>
              </tr>
            </thead>

            <!-- Limit -->
            <!-- Limit -->
            <!-- Limit -->
            <tbody>
              <!--Render List-->
              <%itemList.forEach((inventory,index)=> {%>

              <!--Modal Details Here-->
              <div class="modal fade" id="tnModal<%= index %>" tabindex="-1" role="dialog" aria-labelledby="tnModalLabel<%= index %>" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title m-auto" id="tnModalLabel<%= index %>"><%= inventory.trackingNumber %> | <%= inventory.parcelNumber %></h5>
                      <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body container col-md-12">
                      <div class="row">
                        <div class="col-md-4 mx-auto">
                          <h4>Name:</h4>
                          <p><%= inventory.name %></p>
                          <h4>Contact:</h4>
                          <p><%= inventory.contact %></p>
                          <h4>Address:</h4>
                          <p><%= inventory.address %></p>
                          <h4>Product:</h4>
                          <p><%= inventory.product %></p>
                        </div>

                        <div class="col-md-6 mx-auto">
                          <h4>Parcel History:</h4>
                          <% for(var i = 0 ; i < inventory.history.length; i++) {%>
                          <ul>
                            <li><%= inventory.history[i].statusDetail %></li>
                            <ul>
                              <li><b>Updated on:</b> &nbsp;<%= inventory.history[i].dateUpdated %></li>
                            </ul>
                          </ul>
                          <% } %>
                        </div>

                        <div class="col-md-2 mx-auto">
                          <h3 class="my-auto">Value: $<%= inventory.value %></h3>
                          <h3>Area: </h3>
                          <h3><%= inventory.area %></h3>
                          <h3>Location: </h3>
                          <h3><%= inventory.areaIndicator %></h3>
                        </div>
                      </div>
                    </div>

                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>

                  </div>
                </div>
              </div>

              <!-- Modal Edit Details -->
              <div class="modal fade" id="editModal<%= index %>" tabindex="-1" role="dialog" aria-labelledby="editModalLabel<%= index %>" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title m-auto" id="editModalLabel<%= index %>"><%= inventory.trackingNumber %> | <%= inventory.parcelNumber %></h5>
                      <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">

                      </button>
                    </div>
                    <div class="modal-body container col-md-12">
                      <form class="form" action="/editSuccess" method="post">

                        <input type="hidden" name="trackingNumber" value="<%= inventory.trackingNumber %>">

                        <div class="form-group mx-sm-3 mb-2">
                          <h4>Name:</h4>
                          <p><%= inventory.name %></p>
                        </div>

                        <div class="form-group mx-sm-3 mb-2">
                          <label for="editArea">Area</label>
                          <input type="text" class="form-control" id="editArea<%= index %>" name="area" value="<%= inventory.area %>">
                          <input type="hidden" class="form-control" id="editArea<%= index %>" name="oldArea" value="<%= inventory.area %>">
                        </div>

                        <div class="form-group mx-sm-3 mb-2">
                          <label for="editLocation">Location</label>
                          <input type="text" class="form-control" id="editLocation<%= index %>" name="areaIndicator" value="<%= inventory.areaIndicator %>">
                          <input type="hidden" class="form-control" id="editArea<%= index %>" name="oldLocation" value="<%= inventory.areaIndicator %>">
                        </div>

                        <div class="form-group mx-sm-3 mb-2">
                          <label for="editNote">Note</label>
                          <input type="text" class="form-control" id="editNote<%= index %>" name="note" value="<%= inventory.note %>">
                          <input type="hidden" class="form-control" id="editNote<%= index %>" name="oldNote" value="<%= inventory.note %>">
                        </div>
                    </div>

                    <div class="modal-footer">
                      <input type="hidden" class="form-control" name="username" value="<%= name %>" hidden>
                      <input type="hidden" class="form-control" name="userID" value="<%= icNumber %>" hidden>
                      <input type="hidden" class="form-control" name="userPos" value="<%= position %>" hidden>
                      <input type="hidden" class="form-control" name="formMETHOD" value="editWH" hidden>
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="submit" class="btn btn-primary"><i class="far fa-save"></i></button>
                    </div>

                    </form>

                  </div>
                </div>
              </div>


              <!--Render List-->
              <tr class="content">
                <td></td>
                <td scope="row" class="trackingNum"><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#tnModal<%= index %>">
                    <%= inventory.trackingNumber %>
                  </button></td>
                <td><span><%= inventory.parcelNumber %></span></td>
                <td><span><%= inventory.area %></span></td>
                <td><span><%= inventory.areaIndicator %></span></td>
                <td><span><%= inventory.name %></span></td>
                <td><span><%= inventory.contact %></span></td>
                <td><span><%= inventory.address %></span></td>
                <td class="itemStatus"><span><%= inventory.status %></span></td>
                <td><span><%= inventory.note %></span></td>
                <td class="expire"><span><%= moment(inventory.expireDate).format("DD/MM/YYYY, h:mm:ss a") %></span></td>
                <td><span id="days<%=index%>">
                    <% function dateDiff() { 
                      let todate = Date.parse(moment().format())
                      let expire = Date.parse(inventory.expireDate)
                      let days = Math.round((expire - todate) / (60 * 60 * 24 * 1000))
                      if (days <= 0){
                        days = "Expired Task"
                      }
                      else{
                        days = days + " Days"
                      }
                      return days
                    }
                  %>
                    <%= dateDiff() %></span></td>
                <td>
                  <button type="button" class="btn btn-info p-1" data-bs-toggle="modal" data-bs-target="#editModal<%= index %>">
                    <i class="far fa-edit"></i>
                  </button>
                </td>
              </tr>
              <%})%>

            </tbody>

          </table>
        </div>
      </div>
    </div>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=61fb4a164eca130338cafeaa" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://uploads-ssl.webflow.com/61fb4a164eca130338cafeaa/js/webflow.3866d810a.js" type="text/javascript"></script>
    <!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.20.1/dist/bootstrap-table.min.css">
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/tableExport.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF/jspdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.1/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.1/dist/extensions/print/bootstrap-table-print.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.1/dist/extensions/export/bootstrap-table-export.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.1/dist/extensions/sticky-header/bootstrap-table-sticky-header.min.js"></script>

    <script>
      $(function() {
        $('#myTable').bootstrapTable()
      })

      var $table = $('#myTable')

      $(function() {
        $('#toolbar').find('select').change(function() {
          $table.bootstrapTable('destroy').bootstrapTable({
            exportDataType: $(this).val(),
            exportTypes: ['json', 'xml', 'csv', 'txt', 'sql', 'excel', 'pdf'],
            columns: [{
                field: 'state',
                checkbox: true,
                visible: $(this).val() === 'selected'
              },
              {
                field: 'trackingNumber',
                title: 'Tracking Number'
              },
              {
                field: 'parcelNumber',
                title: 'P/N'
              },
              {
                field: 'area',
                title: 'Area'
              },
              {
                field: 'location',
                title: 'Location'
              },
              {
                field: 'name',
                title: 'Name'
              },
              {
                field: 'contact',
                title: 'Contact'
              },
              {
                field: 'address',
                title: 'Address'
              },
              {
                field: 'status',
                title: 'Status'
              },
              {
                field: 'warehouseRemark',
                title: 'Remark / GRP Charges'
              },
              {
                field: 'expiryDate',
                title: 'Expiry Date'
              },
              {
                field: 'age',
                title: 'Ageing'
              },
              {
                field: 'action',
                title: 'Action'
              }
            ]
          })
        }).trigger('change')
      })
    </script>
  </body>
</html>
